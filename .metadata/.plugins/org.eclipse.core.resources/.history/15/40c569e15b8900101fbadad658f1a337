package sample.web;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpSession;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

import com.nexacro.uiadapter17.spring.core.annotation.ParamDataSet;
import com.nexacro.uiadapter17.spring.core.data.NexacroResult;
import com.nexacro17.xapi.data.DataSet;
import com.nexacro17.xapi.data.DataTypes;


import sample.service.TestService;

@Controller
public class TestController {
	@Autowired
	private TestService testService;
	

	@RequestMapping(value="/selectUserT.do")
	public NexacroResult selectUserT(
	  @ParamDataSet(name="ds_search", required = false) Map<String, Object>
	  ds_search
			) {
		NexacroResult rs = new NexacroResult();
		System.out.println(ds_search);
		List<Map<String, Object>> users = testService.selectUserT(ds_search);
		rs.addDataSet("ds_users", users);
		return rs;
	}
	
	@RequestMapping(value="/selectGrade.do")
	public NexacroResult selectGrade() {
		NexacroResult rs = new NexacroResult();
	
		List<Map<String, Object>> grade = testService.selectGrade();
		rs.addDataSet("ds_grade", grade);
		return rs;
	}
	
	@RequestMapping(value="/selectProductT.do")
	public NexacroResult selectProductT(
	  @ParamDataSet(name="ds_search", required = false) Map<String, Object>
	  ds_search
			) {
		NexacroResult rs = new NexacroResult();
		System.out.println(ds_search);
		List<Map<String, Object>> products = testService.selectProductT(ds_search);
		rs.addDataSet("ds_products", products);
		return rs;
	}
	
	@RequestMapping(value="/selectCategoryT.do")
	public NexacroResult selectCategoryT() {
		NexacroResult rs = new NexacroResult();
		List<Map<String, Object>> category = testService.selectCategoryT();
		rs.addDataSet("ds_category", category);
		
		List<Map<String, Object>> subCategory = testService.selectSubCategoryT();
		rs.addDataSet("ds_sub_category", subCategory);
		return rs;
	}
	
	@RequestMapping(value="/selectOrderT.do")
	public NexacroResult selectOrderT(
	  @ParamDataSet(name="ds_search", required = false) Map<String, Object>
	  ds_search
			) {
		NexacroResult rs = new NexacroResult();
		System.out.println(ds_search);
		List<Map<String, Object>> orders = testService.selectOrderT(ds_search);
		rs.addDataSet("ds_orders", orders);
		return rs;
	}
	
	
}
